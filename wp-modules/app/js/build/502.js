"use strict";(self.webpackChunkpatternmanager_app=self.webpackChunkpatternmanager_app||[]).push([[502],{502:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var r=n(196),i=n(307),a=n(736);function s({url:e,scale:t,viewportWidth:n}){const[s,c]=(0,i.useState)(void 0),[o,l]=(0,i.useState)(0),[u,d]=(0,i.useState)(!1);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"pattern-preview-iframe-inner",style:{height:o*t,opacity:u?1:0}},(0,r.createElement)("iframe",{ref:c,onLoad:()=>{s?.contentWindow?.document?.documentElement?.scrollHeight&&s.contentWindow.document.documentElement.scrollHeight>0&&l(s.contentWindow.document.documentElement.scrollHeight),d(!0)},src:e,title:(0,a.__)("Pattern Preview","pattern-manager"),role:"img",tabIndex:-1,"aria-hidden":"true",style:{width:n,height:o,display:"block",transform:"scale("+t+")",transformOrigin:"top left",pointerEvents:"none"}})),(0,r.createElement)("div",{hidden:u,className:"pattern-loader"}))}function c({url:e,viewportWidth:t}){const n=(0,i.useRef)(null),{lazyHasIntersected:a}=function(e,t={}){const[n,r]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const n=new IntersectionObserver((([e])=>{r(e.isIntersecting),s((t=>t||e.isIntersecting))}),t);return n.observe(e.current),()=>{n.disconnect()}}),[e]),{lazyIsIntersecting:!("IntersectionObserver"in window)||n,lazyHasIntersected:!("IntersectionObserver"in window)||a}}(n,{threshold:[.3,.6,1]}),c=n?.current?.getBoundingClientRect(),o=c?c?.width/t:.2;return(0,r.createElement)("div",{className:"pattern-preview-iframe-outer",style:{pointerEvents:"none"},ref:n},a?(0,r.createElement)(s,{url:e,scale:o,viewportWidth:t,previewContainerSize:c}):null)}}}]);